{% load static %}
<!DOCTYPE html>
<html>
<head>


<link rel="stylesheet" href="{% static 'attendance/SemanticAssets/semantic/distcopy/semantic.css/' %} ">
<link rel="stylesheet" href="{% static 'attendance/SemanticAssets/semantic/distcopy/icon.css/' %} ">
<link rel="stylesheet" type="text/css" href="{% static 'attendance/CSS/master.css'%}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>

<title>Reveille</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Parade State Compiler">

<!-- Style Overides -->
<style>
  a.item.p {
    background: none;
    color: black !important;
  }
  body {
    /* ArsenicColor */
    background-color: #0C1430;
    color: black;
  }

  #HomeHeader, #HeaderSum {
    background-color: none;

    color: white;
  }

  #SummaryHeader {
    background-color: none;
    color: gray;
  }

  

  #OverviewTab, #SummaryTab, #LogTab {
    border-style: none;
  }


  #LogTab {
    margin-left: 0px;
    width: 100%;
  }

  

</style>

</head>

<body>

  

{% block content %}{% endblock %}




  <!-------- Scripts -------->

  <!-- Default Semantic -->

    <script>

      $('.ui.dropdown')
      .dropdown()
      ;

      $('.menu .item')
      .tab()
      ;

      $('#AddCardToggle').click(function(){ $('.ui.dimmer.custom').dimmer("show") })
      ;

      $('#AddCardToggleMobile').click(function(){ $('.ui.dimmer.custom').dimmer("show") })
      ;

      $('#AddCardSave').click(function(){ $('.ui.dimmer.custom').dimmer("hide") })
      ;

      $('#AddCardCancel').click(function(){ $('.ui.dimmer.custom').dimmer("hide") })
      ;

      $('#AddCardtoggle').popup()
      ;
      

    </script>



  <!-- Local Self-written -->
  

    <!-- 
    Updating URL from DatePicker, 
    to query DB for specific parade on specific date
    -->
    <script>

      var datePickEntBtn = document.getElementById('DatePickEnter');
      datePickEntBtn.addEventListener('click',UpdateBackUrl);

      function UpdateBackUrl(){
        
        var datepickerValue = document.getElementById("MyDate").value;
        var paradeChoice = document.getElementById('ParadeChoice').value;

        // location.href = "parade/" + "?date=" + datepickerValue + "&time_of_day=" + paradeChoice + "/" ;

        location.assign("http://localhost:8000/home/parade/" + "?date=" + datepickerValue + "&time_of_day=" + paradeChoice);

        console.log("url changed");

        
      }
      

    </script>


    <!--Elements after picking parade from DatePicker-->
    <script>


      
      var urlNow = window.location.search;
      console.log(urlNow);
      
      
      if (urlNow != "") {
        console.log("url live");
        // document.getElementById("CardHolders").classList.toggle('active');
        document.getElementById("OverviewSearch").classList.remove('disabled');
        document.getElementById("LayoutBtn").classList.remove('disabled');
        // document.getElementById("NoDocumentPage").className="Default-Inactive";
      }

      else {
        console.log("close document none print cards")
      
      }
  
    </script>


    <!--Delete Button for individual Card-->

    

    <!-- For Card Dimmer  -->
    <script>

      var saveBtn = document.getElementById('AddCardSave');
      var selectMedical = document.getElementById('MedStat');
      var selectActivity = document.getElementById('Activity');

      var selectMedicalVal = document.getElementById('MedStat').value;
      var selectActivityVal = document.getElementById('Activity').value;

      function ToggleCardSaveBtn(selectActivityVal,selectMedicalVal){

        var saveBtn = document.getElementById('AddCardSave');
        var selectMedical = document.getElementById('MedStat');
        var selectActivity = document.getElementById('Activity');

        var selectMedicalVal = document.getElementById('MedStat').value;
        var selectActivityVal = document.getElementById('Activity').value;

        

        if (selectMedicalVal == "NIL" && selectActivityVal == "NIL" ) {
          console.log('NIL choices selected');
          saveBtn.classList.remove("teal");
          saveBtn.classList.add("disabled");
          
        }
        
        else if (selectMedicalVal == "NIL" && selectActivityVal == "" ) {
          console.log('NIL choices selected');
          saveBtn.classList.remove("teal");
          saveBtn.classList.add("disabled");
        }

        else if (selectMedicalVal == "" && selectActivityVal == "" ) {
          console.log('NIL choices selected');
          saveBtn.classList.remove("teal");
          saveBtn.classList.add("disabled");
        }

        else if (selectMedicalVal == "" && selectActivityVal == "NIL" ) {
          console.log('NIL choices selected');
          saveBtn.classList.remove("teal");
          saveBtn.classList.add("disabled");
        }

        else {
          saveBtn.className = "ui teal button";
        }
      }

      
      selectMedical.addEventListener('change',ToggleCardSaveBtn);
      selectActivity.addEventListener('change',ToggleCardSaveBtn);
      
      // <!--Reset Cancel Button-->
      function resetInput(value) {
        var selectMedicalVal = document.getElementById('MedStat').value;
        var selectActivityVal = document.getElementById('Activity').value;
        selectMedicalVal = "";
        selectActivityVal ="";
        $('form').form('clear');
      }

      var cancelBtn = document.getElementById("AddCardCancel");
      cancelBtn.addEventListener('click', resetInput);


    </script>

    <script>

      var content = [
        { title: 'Andorra' ,id: '1' },
        { title: 'United Arab Emirates' },
        { title: 'Afghanistan' },
        { title: 'Antigua' },
        { title: 'Burkina Faso' },
        { title: 'Bulgaria' },
        { title: 'Bahrain' },
        { title: 'Burundi' }
        // etc
        ];


      $('#AddNewCardSearch')
        .search({
          source: content
          
        }) 
        .result 
      ;

      $('#AddNewCardSearch')
        .search('get value') 
      ;
      
      var searchAddCard = document.getElementById("CardSearchInput");
      var searchResult = searchAddCard.value;
      searchAddCard.addEventListener('change',CheckSearch);
      
      
      function CheckSearch(searchResult) {
        var searchResult = searchAddCard.value;
        console.log(searchResult);

      }


    </script>
    
   

</body>

</html>
